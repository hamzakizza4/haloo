<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HALCITY Checkout</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
<style>
:root {
  --bg: #0f172a;
  --card: #111827;
  --muted: #94a3b8;
  --text: #e5e7eb;
  --accent: #22c55e;
  --accent-2: #10b981;
  --border: #1f2937;
}

body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}

.checkout-box {
  max-width: 500px;
  margin: 80px auto;
  background: var(--card);
  padding: 30px;
  border-radius: 18px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.4);
}

.checkout-box img {
  width: 100%;
  border-radius: 14px;
  margin-bottom: 20px;
}

.checkout-box h2 {
  text-align: center;
  margin-bottom: 20px;
}

.price {
  text-align: center;
  font-size: 24px;
  font-weight: bold;
  color: var(--accent);
  margin-bottom: 25px;
}

.checkout-box input, .checkout-box button {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border-radius: 12px;
  border: none;
  font-size: 16px;
}

.checkout-box input {
  background: #0b1220;
  color: var(--text);
}

.checkout-box button {
  background: var(--accent);
  color: #05120a;
  font-weight: bold;
  cursor: pointer;
}

.checkout-box button:hover {
  background: var(--accent-2);
}
</style>
</head>
<body>

<div class="checkout-box">
  <img id="itemImg" src="">
  <h2 id="itemName">Item Name</h2>
  <div class="price">UGX <span id="itemPrice">0</span></div>

  <input type="text" id="customerName" placeholder="Your Name" required>
  <input type="email" id="customerEmail" placeholder="Your Email" required>
  <input type="tel" id="customerPhone" placeholder="Phone Number" required>
  <input type="text" id="pickup" placeholder="Pickup Location" required>
  <input type="datetime-local" id="time" placeholder="Desired Pickup Time" required>

  <button id="confirmBtn">Confirm Order</button>
</div>

<script>
// Grab order info from URL parameters
const params = new URLSearchParams(window.location.search);
const itemName = params.get("name");
const itemPrice = params.get("price");
const itemImg = params.get("img");

document.getElementById("itemName").textContent = itemName || "Item Name";
document.getElementById("itemPrice").textContent = itemPrice || "0";
document.getElementById("itemImg").src = itemImg || "";

// Confirm order button
document.getElementById("confirmBtn").addEventListener("click", () => {
  const name = document.getElementById("customerName").value;
  const email = document.getElementById("customerEmail").value;
  const phone = document.getElementById("customerPhone").value;
  const pickup = document.getElementById("pickup").value;
  const time = document.getElementById("time").value;

  if (!name || !email || !phone || !pickup || !time) {
    alert("Please fill all fields.");
    return;
  }

  const order = {
    item: itemName,
    price: itemPrice,
    img: itemImg,
    customerName: name,
    customerEmail: email,
    customerPhone: phone,
    pickup: pickup,
    time: time,
    orderTime: new Date().toLocaleString()
  };

  // Save to localStorage
  let orders = JSON.parse(localStorage.getItem("halcityOrders") || "[]");
  orders.push(order);
  localStorage.setItem("halcityOrders", JSON.stringify(orders));

  alert("Order placed successfully!");
  window.location.href = "index.html"; // Redirect home
});
</script>

</body>
</html>