<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Details</title>

<style>
:root {
  --bg: #0f172a;
  --card: #111827;
  --muted: #94a3b8;
  --text: #e5e7eb;
  --accent: #22c55e;
  --accent-2: #10b981;
  --border: #1f2937;
  --input: #0b1220;
}

/* RESET */
* { margin:0; padding:0; box-sizing:border-box; font-family:Inter, sans-serif; }
body { background: var(--bg); color: var(--text); }

.container {
  display: flex;
  flex-wrap: wrap;
  max-width: 1200px;
  margin: 100px auto;
  gap: 30px;
  padding: 0 20px;
}

/* LEFT IMAGE */
.left {
  flex: 1 1 400px;
  background: var(--card);
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border);
}
.left img {
  width: 100%;
  height: auto;
  object-fit: contain;
  background: var(--input);
}

/* RIGHT INFO */
.right {
  flex: 1 1 400px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* TITLE & BRAND */
h1 { font-size: 26px; }
.brand { font-size: 14px; color: var(--accent-2); }

/* PRICE */
.price-section {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 24px;
}
.price { color: var(--accent); font-weight: 700; }
.old-price { text-decoration: line-through; color: var(--muted); font-size: 16px; }
.discount { background: rgba(34,197,94,0.15); color: var(--accent); padding: 2px 8px; border-radius: 6px; font-size: 14px; }

/* RATINGS */
.rating {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  color: #facc15; /* yellow stars */
}

/* STOCK */
.stock { font-size: 14px; color: var(--muted); }

/* ADD TO CART */
#ctaBtn {
  padding: 14px 28px;
  font-size: 18px;
  font-weight: 700;
  color: #000;
  background: var(--accent);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: transform 0.3s ease;
}
#ctaBtn:hover { transform: scale(1.05); }

/* DELIVERY & RETURNS */
.delivery {
  background: var(--card);
  border-radius: 12px;
  padding: 16px;
  border: 1px solid var(--border);
  margin-top: 20px;
}
.delivery h3 { font-size: 18px; margin-bottom: 12px; }
.delivery p { font-size: 14px; color: var(--muted); margin-bottom: 10px; }
.select-location { margin-bottom: 12px; padding: 6px; border-radius: 6px; background: var(--input); border: 1px solid var(--border); color: var(--text); width: 100%; }
.delivery-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.delivery-item p { font-size: 14px; }
.delivery-item span { font-weight: 600; }

@media(max-width:900px) {
  .container { flex-direction: column; }
}
</style>
</head>
<body>

<div class="container">

  <!-- LEFT IMAGE -->
  <div class="left">
    <img id="product-img" src="">
  </div>

  <!-- RIGHT INFO -->
  <div class="right">
    <h1 id="product-name"></h1>
    <div class="brand" id="product-brand">Brand: HALCITY</div>

    <div class="price-section">
      <div class="price">UGX <span id="product-price"></span></div>
      <div class="old-price">UGX <span id="product-old"></span></div>
      <div class="discount">-<span id="product-discount"></span>%</div>
    </div>

    <div class="rating">⭐⭐⭐⭐☆ (<span id="ratings-count">353</span> verified ratings)</div>
    <div class="stock">In stock</div>

    <button id="ctaBtn" onclick="addToCart()">Add to cart</button>

    <!-- DELIVERY -->
    <div class="delivery">
      <h3>Delivery & Returns</h3>
      <p>Enjoy fast delivery in main cities</p>

      <select class="select-location">
        <option>Kampala Region</option>
        <option>Central Business District</option>
      </select>

      <div class="delivery-item">
        <p>Pickup Station</p>
        <span>UGX 3,000</span>
      </div>
      <div class="delivery-item">
        <p>Door Delivery</p>
        <span>UGX 4,600</span>
      </div>
    </div>

  </div>

</div>

<script>
// DYNAMIC DATA FROM URL
const p = new URLSearchParams(window.location.search);
const product = {
  name: p.get("name"),
  price: Number(p.get("price")),
  old: Number(p.get("old")),
  discount: p.get("discount"),
  img: p.get("img")
};

document.getElementById("product-name").textContent = product.name;
document.getElementById("product-price").textContent = product.price.toLocaleString();
document.getElementById("product-old").textContent = product.old.toLocaleString();
document.getElementById("product-discount").textContent = product.discount;
document.getElementById("product-img").src = product.img;

// ADD TO CART FUNCTION
function addToCart(){
  let cart = JSON.parse(localStorage.getItem("halcityCart")) || [];

  const existing = cart.find(item => item.name === product.name);
  if(existing) existing.quantity++;
  else cart.push({...product, quantity: 1});

  localStorage.setItem("halcityCart", JSON.stringify(cart));

  alert("✅ " + product.name + " added to cart!");
  // redirect to cart page
  window.location.href = "cart.html";
}
</script>

</body>
</html>
